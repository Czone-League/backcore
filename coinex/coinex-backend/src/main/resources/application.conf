include "serialization"

akka {
	log-dead-letters = 0
	log-dead-letters-during-shutdown = false
	loglevel = INFO
	loggers = ["akka.event.slf4j.Slf4jLogger"]
	
	persistence.journal.plugin = "casbah-journal"
	persistence.snapshot-store.plugin = "casbah-snapshot-store"
	persistence.view.auto-update-interval = 100ms
	extensions = [
		"akka.contrib.pattern.DistributedPubSubExtension",
		"akka.contrib.pattern.ClusterReceptionistExtension"
	]

	debug {
		lifecycle = on
		receive = on
	}

	actor {
		provider = "akka.cluster.ClusterActorRefProvider"
		serialize-messages = on
	}
	
	remote {
		enabled-transports = ["akka.remote.netty.tcp"]
		netty.tcp {
			hostname = "192.168.0.103"
			port = 0
		}
	}
	
	cluster {
		roles = [
		"market_processor_btc_rmb",
		"market_depth_view_btc_rmb",
		"user_processor", 
		"account_processor",
		"marke_update_processor", 
		"user_view", 
		"account_view",
		"user_orders_view",
		"candle_data_view"
		]
		auto-down-unreachable-after = 2s
		role {
			# user_processor.min-nr-of-members = 1
			# account_processor.min-nr-of-members = 1
			# market_processor_btc_rmb.min-nr-of-members = 1
			# marke_update_processor.min-nr-of-members = 1
		}
		seed-nodes = [
			"akka.tcp://coinex@192.168.0.103:25551"
		]
	}
}

casbah-journal {
	mongo-journal-url = "mongodb://localhost:27017/coinex.messages"
}

casbah-snapshot-store {
	mongo-snapshot-url = "mongodb://localhost:27017/coinex.snapshots"
}